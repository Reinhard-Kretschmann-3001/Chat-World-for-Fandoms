<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create AU | My AUS Wiki</title>
    <link rel="stylesheet" href="style.css">
    <style> 
        /* CSS nội bộ create-aus.html giữ nguyên */
        main h2 { color: #E6244C; text-shadow: 0 0 10px #E6244C;}
        form label { color: #E6244C; display: block; margin-bottom: 6px; font-weight: bold; }
        form input, form textarea { width: 100%; background: #444C5C; border: 1px solid #7A287E; color: #F0F0F0; border-radius: 5px; padding: 10px; margin-bottom: 15px; font-size: 1em; box-sizing: border-box; }
        form textarea { resize: vertical; min-height: 120px; }
        button { background: #7A287E; border: none; color: #fff; padding: 12px 20px; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.2s; font-size: 1.1em; }
        button:hover { background: #E6244C; }
        button:disabled { background: #555; cursor: not-allowed; }
        .note { text-align: center; color: #A4B0BE; font-size: 0.9em; margin-bottom: 20px; }
        #form-message { text-align: center; margin-top: 15px; font-size: 1em; font-weight: bold; }
        .message-success { color: #FFF; background: #574B90; padding:10px; border-radius: 4px; border: 1px solid #7A287E;}
        .message-error { color: #FFF; background: #8B0000; padding:10px; border-radius: 4px; border: 1px solid #E6244C;}
    </style>
</head>
<body>
    <header><h1>Dusttale</h1></header>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="aus.html">AU List</a></li>
            <li><a href="create-aus.html" class="active">Create AU</a></li>
            <li><a href="characters.html">Characters</a></li>
            <li><a href="contribute.html">Contribute</a></li>
             </ul>
    </nav>
    <main>
        <h2>Create New AU</h2>
        <p class="note">Share your AU with the community!</p>
        <form id="create-au">
             <label for="name">AU Name</label><input type="text" id="name" placeholder="Name of your AU" required>
             <label for="creator">Creator (Your Username)</label><input type="text" id="creator" placeholder="Your username will be used" required>
             <label for="summary">Short Description</label><textarea id="summary" placeholder="Briefly describe the AU..." required></textarea>
             <label for="link">Link (Optional)</label><input type="url" id="link" placeholder="https://...">
            <button type="submit" id="submit-button">Submit AU</button>
            <div id="form-message"></div>
        </form>
    </main>
    <footer>
        <p>&copy; 2025 Dust!Sans [Elliot Davidson]. All rights reserved.</p>
        <p>Website developed based on...</p>
    </footer>

    <script>
        // --- Mã JavaScript Chung (Copy từ index.html) ---
        function getCurrentUser() { /*...*/ return localStorage.getItem('currentUser'); }
        function logoutUser() { /*...*/ localStorage.removeItem('currentUser'); localStorage.removeItem('token'); window.location.reload(); }
        function updateNavBar() { /*...*/ 
             const user = getCurrentUser(); const navUl = document.querySelector('nav ul');
             const authItems = navUl.querySelectorAll('.auth-item'); authItems.forEach(item => item.remove());
             if (user) {
                 const userDropdown = document.createElement('li'); userDropdown.className = 'auth-item dropdown';
                 const userNameLink = document.createElement('a'); userNameLink.href = "#"; userNameLink.textContent = user;
                 userNameLink.onclick = function(event) { event.preventDefault(); toggleUserMenu(); };
                 userDropdown.appendChild(userNameLink);
                 const dropdownContent = document.createElement('ul'); dropdownContent.className = 'dropdown-content'; dropdownContent.id = 'user-menu-content';
                 const logoutItem = document.createElement('li'); logoutItem.innerHTML = `<a href="#" onclick="logoutUser()">Logout</a>`; dropdownContent.appendChild(logoutItem);
                 userDropdown.appendChild(dropdownContent); navUl.appendChild(userDropdown);
             } else {
                 const loginItem = document.createElement('li'); loginItem.className = 'auth-item';
                 loginItem.innerHTML = `<li><a href="auth.html">Login / Register</a></li>`; navUl.appendChild(loginItem);
             }
         }
        function toggleUserMenu() { /*...*/ const menuContent = document.getElementById('user-menu-content'); if (menuContent) { menuContent.classList.toggle('show'); } }
        window.onclick = function(event) { /*...*/ if (!event.target.matches('.dropdown > a')) { const dropdowns = document.getElementsByClassName("dropdown-content"); for (let i = 0; i < dropdowns.length; i++) { if (dropdowns[i].classList.contains('show')) { dropdowns[i].classList.remove('show'); } } } }
        window.logout
